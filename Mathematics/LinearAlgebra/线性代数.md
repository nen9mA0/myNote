## 矩阵

### 概念

#### 定义

由m*n个数排成一个m行n列的矩形数表
$$
\begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
a_{21} & a_{22} & ... & a_{2n} \\
... \\
a_{m1} & a_{m2} & ... & a_{mn}
\end{bmatrix}
$$

#### 几种特殊矩阵

##### 上三角

主对角线（左上到右下）以下全为0的**方阵**
$$
\begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
0 & a_{22} & ... & a_{2n} \\
... \\
0 & 0 & ... & a_{nn}
\end{bmatrix}
$$

##### 下三角

$$
\begin{bmatrix}
a_{11} & 0 & ... & 0 \\
a_{21} & a_{22} & ... & 0 \\
... \\
a_{m1} & a_{m2} & ... & a_{nn}
\end{bmatrix}
$$

##### 对角矩阵

$$
\begin{bmatrix}
a_{11} & 0 & ... & 0 \\
0 & a_{22} & ... & 0 \\
... \\
0 & 0 & ... & a_{nn}
\end{bmatrix}
$$

##### 单位矩阵

$$
\begin{bmatrix}
1 & 0 & ... & 0 \\
0 & 1 & ... & 0 \\
... \\
0 & 0 & ... & 1
\end{bmatrix}
$$

### 运算

#### 加法与数乘

统称为矩阵的线性运算

##### 加法

$$
\boldsymbol A + \boldsymbol B =
\begin{bmatrix}
a_{11} + b_{11} & a_{12} + b_{12} & ... & a_{1n} + b_{1n} \\
a_{21} + b_{21} & a_{22} + b_{22} & ... & a_{2n} + b_{2n} \\
... \\
a_{m1} + b_{m1} & a_{m2} + b_{m2} & ... & a_{mn} + b_{mn}
\end{bmatrix}
$$

##### 数乘

$$
k \boldsymbol A = \boldsymbol A k =
\begin{bmatrix}
ka_{11} & ka_{12} & ... & ka_{1n} \\
ka_{21} & ka_{22} & ... & ka_{2n} \\
... \\
ka_{m1} & ka_{m2} & ... & ka_{mn}
\end{bmatrix}
$$

##### 运算律

$$
\begin{aligned}
\boldsymbol A + \boldsymbol B &= \boldsymbol B + \boldsymbol A \\
(\boldsymbol A + \boldsymbol B) + \boldsymbol C &= \boldsymbol A + (\boldsymbol B + \boldsymbol C) \\
\boldsymbol A + \boldsymbol O &= \boldsymbol A \\
\boldsymbol A + (- \boldsymbol A) &= \boldsymbol O \\
1 \cdot \boldsymbol A &= \boldsymbol A \\
(kl) \boldsymbol A &= k (l \boldsymbol A) \\
(k+l) \boldsymbol A &= k \boldsymbol A + l \boldsymbol A \\
k(\boldsymbol A + \boldsymbol B) &= k \boldsymbol A + k \boldsymbol B
\end{aligned}
$$

#### 乘法

##### 法则

设A是一个`m*s`矩阵，B是一个`s*n`矩阵
$$
c_{ij} = a_{i1}b_{1j} + a_{i2}b_{2j} + ... + a_{is}b_{sj} = \sum_{k=1}^{s} a_{ik}b_{kj}
$$

##### 运算律

* (AB)C = A(BC)
* A(B+C) = AB + AC
* (B+C)A = BA + CA
* $\lambda (\boldsymbol A \boldsymbol B) = (\lambda \boldsymbol A) \boldsymbol B = \boldsymbol A (\lambda \boldsymbol B)$
* $\boldsymbol E_m \boldsymbol A_{m \times n} = \boldsymbol A_{m \times n} \boldsymbol E_n = \boldsymbol A_{m \times n}$

**注意**

* 一般情况下，矩阵乘法不满足交换律，即BA不等于AB
* 若n阶矩阵（方阵）满足交换律，则称A与B乘法可交换。n阶单位矩阵与任意n阶矩阵可交换
* 两个非零矩阵之积可能是零矩阵，即若 AB=O，不代表A和B有零矩阵
* 若A不等于O，AB=AC不能说明B=C

#### 幂

方阵A的幂即多个A相乘，满足以下规律

* $\boldsymbol A^k \boldsymbol A^l = \boldsymbol A^{k+l}$
* $(\boldsymbol A^k)^l = \boldsymbol A^{kl}$

**注意**

* 因为矩阵乘法不满足交换律，所以一般$(\boldsymbol A \boldsymbol B)^k \neq \boldsymbol A^k \boldsymbol B^k$

#### 多项式

对于方阵A，有以下形式的称为n阶方阵A的m次多项式
$$
f(\boldsymbol A) = a_0 \boldsymbol A^m + a_1 \boldsymbol A^{m-1} + ... + a_{m-1} \boldsymbol A + a_m \boldsymbol E
$$
由于多项式都是A相乘或是A与E相乘，因此都是可交换的，所以
$$
f(\boldsymbol A) g(\boldsymbol A) = g(\boldsymbol A) f(\boldsymbol A)
$$
此外，若A和B可交换，则$(\boldsymbol A + \boldsymbol B)^n$也可按二项式定理展开

#### 转置

将A的行换位同序数的列，即
$$
a'_{ij} = a_{ji}
$$

##### 运算律

* $(A^T)^T = A$
* $(A+B)^T = A^T + B^T$
* $(\lambda A)^T = \lambda A^T$
* $(AB)^T = B^TA^T$

##### 对称性

若$\boldsymbol A^T = \boldsymbol A$则称为对称矩阵，若$\boldsymbol A = - \boldsymbol A^T$则称为反对称矩阵，**反对称矩阵主对角线上元素均为0**

有如下几种形式的方阵必为对称矩阵

* $\boldsymbol A + \boldsymbol A^T$
* $\boldsymbol A \boldsymbol A^T$
* $\boldsymbol A^T \boldsymbol A$

有如下形式的必为反对称矩阵

* $\boldsymbol A - \boldsymbol A^T$

任意方阵可以写成如下形式
$$
\boldsymbol A = \frac{\boldsymbol A + \boldsymbol A^T}{2} + \frac{\boldsymbol A - \boldsymbol A^T}{2}
$$
即，**任意方阵A都可写成对称矩阵与反对称矩阵之和**

### 共轭矩阵

若A为复矩阵
$$
\overline{\boldsymbol A} = [\overline{a_{ij}}]
$$
其中$\overline{a_{ij}}$为aij的共轭复数

#### 运算

* $\overline{\boldsymbol A + \boldsymbol B} = \overline{\boldsymbol A} + \overline{\boldsymbol B}$
* $\overline{\lambda \boldsymbol A} = \overline{\lambda} \overline{\boldsymbol A}$
* $\overline{\boldsymbol{AB}} = \overline{\boldsymbol A} \overline{\boldsymbol B}$

### 可逆矩阵

对于方阵A，若存在方阵B，使
$$
\boldsymbol{AB} = \boldsymbol{BA} = \boldsymbol E
$$
则称A可逆，B为A的逆矩阵。**逆矩阵是唯一的**

#### 性质

* 若A是可逆矩阵，则$A^{-1}$也是可逆矩阵，且$(A^{-1})^{-1} = A$
* 若A是可逆矩阵，k是不为零的数，则$(kA)^{-1} = k^{-1}A^{-1}$
* 若A是可逆矩阵，则A的转置也是可逆矩阵，且$(A^T)^{-1} = (A^{-1})^T$
* 若A、B是可逆矩阵，则$(AB)^{-1} = B^{-1}A^{-1}$

#### 计算

##### 二阶

若ad-bc不等于0，则二阶方阵A可逆，且
$$
\boldsymbol{A^{-1}} = \frac{1}{ad-bc}
\begin{bmatrix}
d & -b \\
-c & a
\end{bmatrix}
$$

##### 对角

因为对角矩阵A和B，有
$$
c_{ii} = a_{ii} b_{ii}
$$
要符合可逆矩阵的定义，则有
$$
a_{ii} = \frac{1}{b_{ii}}
$$

### 分块矩阵

可以将一个大的矩阵A写成多个小矩阵的组合，如
$$
A =
\begin{bmatrix}
a_{11} & a_{12} & a_{13} \\
a_{21} & a_{22} & a_{23} \\
a_{31} & a_{32} & a_{33}
\end{bmatrix}
=
\begin{bmatrix}
A_{11} & A_{12} \\
A_{21} & A_{22}
\end{bmatrix}
\\
~
\\
\begin{aligned}
A_{11} &=
\begin{bmatrix}
a_{11} & a_{12} \\
a_{21} & a_{22}
\end{bmatrix}
\\
A_{12} &=
\begin{bmatrix}
a_{13} \\
a_{23}
\end{bmatrix}
\\
A_{21} &=
\begin{bmatrix}
a_{31} & a_{32}
\end{bmatrix}
\\
A_{22} &=
\begin{bmatrix}
a_{33}
\end{bmatrix}
\end{aligned}
$$
对于可以将矩阵A分为下列形式的矩阵，称为准对角矩阵，或分块对角矩阵
$$
A =
\begin{bmatrix}
A_1 \\
& A_2 \\
& & ... \\
& & & A_r
\end{bmatrix}
= diag(A_1, A_2, ... , A_r)
$$

#### 运算

##### 加法与数乘

加法与数乘显而易见，与普通形式一样

##### 转置

注意，转置时大矩阵需转置，每个分块也需转置
$$
A^T =
\begin{bmatrix}
A_{11}^T & A_{21}^T \\
A_{12}^T & A_{22}^T
\end{bmatrix}
$$

##### 乘法

在进行乘法时，需要注意**A的列的分法必须与B的行的分法一致**

计算方法与普通乘法类似
$$
C_{ij} = \sum_{k=1}^s A_{ik} B_{kj}
$$
特殊的，若为分块对角矩阵，则
$$
\begin{aligned}
AB &= 
\begin{bmatrix}
A_{1}B_{1} \\
& A_{2}B_{2} \\
& &... \\
& & & A_{r}B_{r}
\end{bmatrix}
\\
~
\\
A^k &=
\begin{bmatrix}
A_{1}^k \\
& A_{2}^k \\
& &... \\
& & & A_{r}^k
\end{bmatrix}
\\
~
\\
A^{-1} &=
\begin{bmatrix}
A_{1}^{-1} \\
& A_{2}^{-1} \\
& &... \\
& & & A_{r}^{-1}
\end{bmatrix}
\end{aligned}
$$
最后的可逆前提是各个分块都可逆

###### 例

这里注意A的列的分法与B的行的分法
$$
\begin{aligned}
A &=
\begin{bmatrix}
-1 & 2 & 1 & 0 & 0 \\
4 & 1 & 0 & 1 & 0 \\
0 & 5 & 0 & 0 & 1 \\
3 & 0 & 0 & 0 & 0 \\
0 & 3 & 0 & 0 & 0
\end{bmatrix}
 &B &=
\begin{bmatrix}
0 & 0 & 0 & 2 \\
0 & 0 & 0 & 3 \\
2 & 1 & -3 & 0 \\
1 & -2 & 1 & 0 \\
0 & 1 & 4 & 0
\end{bmatrix}
\\
~
\\
A &= 
\begin{bmatrix}
A_{11} & E \\
3E & O
\end{bmatrix}
& A_{11} &=
\begin{bmatrix}
-1 & 2 \\
4 & 1 \\
0 & 5
\end{bmatrix}
\\
~
\\
B &=
\begin{bmatrix}
O & B_{12} \\
B_{21} & O
\end{bmatrix}
& B_{12} &=
\begin{bmatrix}
2 \\
3
\end{bmatrix}
& B_{21} &=
\begin{bmatrix}
2 & 1 & -3 \\
1 & -2 & 1 \\
0 & 1 & 4
\end{bmatrix}
\end{aligned}
$$
则
$$
\begin{aligned}
AB &=
\begin{bmatrix}
A_{11} & E \\
3E & O
\end{bmatrix}
\begin{bmatrix}
O & B_{12} \\
B_{21} & O
\end{bmatrix}
\\
&=
\begin{bmatrix}
A_{11}O + B_{21}E & A_{11}B_{12}+EO \\
3EO + B_{21}O & 3EB_{12} + OO
\end{bmatrix}
\\
&=
\begin{bmatrix}
B_{21} & A_{11}B_{12} \\
O & 3B_{12}
\end{bmatrix}
\\
&=
\begin{bmatrix}
2 & 1 & -3 & 4 \\
1 & -2 & 1 & 11 \\
0 & 1 & 4 &15 \\
0 & 0 & 0 & 6 \\
0 & 0 & 0 & 9
\end{bmatrix}
\end{aligned}
$$

#### 行与列的性质

若C=AB，将B按行分块，则
$$
C = AB = A
\begin{bmatrix}
\beta_1 & \beta_2 & ... & \beta_n
\end{bmatrix}
=
\begin{bmatrix}
A\beta_1 & A\beta_2 & ... & A\beta_n
\end{bmatrix}
=
\begin{bmatrix}
\gamma_1 & \gamma_2 & ... & \gamma_n
\end{bmatrix}
$$
将B按列分块，则
$$
C = AB = A
\begin{bmatrix}
\beta_1 \\
\beta_2 \\
... \\
\beta_n
\end{bmatrix}
=
\begin{bmatrix}
A\beta_1 \\
A\beta_2 \\
... \\
A\beta_n
\end{bmatrix}
=
\begin{bmatrix}
\delta_1 \\
\delta_2 \\
... \\
\delta_n
\end{bmatrix}
$$
因此B矩阵相乘的结果的每一列或每一行都可以视为A矩阵单独乘该行/列的结果

### 矩阵的初等变换

#### 矩阵与线性方程组

设n元线性方程组
$$
\left \{
\begin{aligned}
a_{11}x_1 + a_{12}x_2 + ... +a_{1n}x_n &= b_1 \\
a_{21}x_1 + a_{22}x_2 + ... +a_{2n}x_n &= b_2 \\
...
\\
a_{m1}x_1 + a_{m2}x_2 + ... +a_{mn}x_n &= b_m \\
\end{aligned}
\right.
$$
当$b_i$全为0时称为齐次线性方程组

该式可以写成矩阵
$$
\begin{aligned}
A &= \begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
a_{21} & a_{22} & ... & a_{2n} \\
... \\
a_{m1} & a_{m2} & ... & a_{mn} 
\end{bmatrix}
&

x &= \begin{bmatrix}
x_1 \\
x_2 \\
... \\
x_n
\end{bmatrix}
&

b = \begin{bmatrix}
b_1 \\
b_2 \\
... \\
b_n
\end{bmatrix}

\\
~
\\

Ax &= b
\end{aligned}
$$
A称为**系数矩阵**，(A,b)称为**增广矩阵**

#### 初等变换

##### 类型

下列为初等行变换，列变换同理

* $r_i \leftrightarrow r_j$  互换矩阵第i行与第j行位置
* $kr_i$  用非零常数k乘矩阵第i行的每个元
* $r_i + kr_j$  将第j行所有元的k倍加到i行

##### 性质

若A经过一系列**初等行变换**变为B，则称AB行等价  $A \stackrel{r}{\rightarrow} B$

若A经过一系列**初等列变换**变为B，则称AB列等价  $A \stackrel{c}{\rightarrow} B$

若A经过一系列**初等变换**变为B，则称AB等价  $A \rightarrow B$

* 反身性  任意矩阵与自己等价
* 对称性  A等价于B则B等价于A
* 传递性  AB等价，BC等价则AC等价

#### 化简方程

很容易可以知道，对于方程组的**增广矩阵**，对其进行初等变换后形成的新方程组与原方程组的解是一样的。因此一般采用将增广矩阵化简为**行阶梯型**矩阵来求解，即
$$
\begin{aligned}
\begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
a_{21} & a_{22} & ... & a_{2n} \\
... \\
a_{m1} & a_{m2} & ... & a_{mn} 
\end{bmatrix}

\begin{bmatrix}
x_1 \\
x_2 \\
... \\
x_n
\end{bmatrix}

=
\begin{bmatrix}
b_1 \\
b_2 \\
... \\
b_n
\end{bmatrix}
&& \Rightarrow &&

\begin{bmatrix}
c_{11} & c_{12} & ... & c_{1n} \\
0 & c_{22} & ... & c_{2n} \\
& &  ... \\
0 & 0 & ... & c_{mn} 
\end{bmatrix}

\begin{bmatrix}
x_1 \\
x_2 \\
... \\
x_n
\end{bmatrix}

=
\begin{bmatrix}
d_1 \\
d_2 \\
... \\
d_n
\end{bmatrix}
\end{aligned}
$$

##### 行阶梯型矩阵

* 若有0行（全为0的行），则0行位于非0行下方
* 每个首非0元（从左数第一个不为0的数）前面的0个数逐行增加

##### 行最简型

所有行首非0元为1，且其所在列的其他元都为0的行阶梯型矩阵

* 任意`m*n`矩阵A都可以经过初等行变换化为行阶梯型矩阵及行最简形矩阵

##### 等价标准型

任意`m*n`矩阵必可化为如下形式的矩阵
$$
N = 
\begin{bmatrix}
E_r & O \\
O & O
\end{bmatrix}
$$

### 初等矩阵

对单位矩阵进行一次初等变换的矩阵，有三种

* E(i,j)  交换行
  $$
  \begin{bmatrix}
  1  \\
  & ... \\
  &  & 1 \\
  & & &  0 & & ...  && 1 & \\
  & & & & 1 \\
  & & & & & ... \\
  & & & & & & 1 \\
  & & & 1 & & ... & & 0 \\
  & & & & & & & & 1 \\
  & & & & & & & & & ... \\
  & & & & & & & & & & 1
  \end{bmatrix}
  $$

* E(i(k))  k乘第i行
  $$
  \begin{bmatrix}
  1 \\
  & ... \\
  & & 1 \\
  & & & k\\
  & & & & 1 \\
  & & & & & ... \\
  & & & & & & 1
  \end{bmatrix}
  $$

* E(i, j(k))  第i行加第j行的k倍
  $$
  \begin{bmatrix}
  1 \\
  & ... \\
  & & 1 & & k\\
  & & & ...\\
  & & & & 1 \\
  & & & & & ... \\
  & & & & & & 1
  \end{bmatrix}
  $$
  

#### 初等矩阵与初等变换

##### 定理1

设A为`m*n`矩阵，对A进行一次初等行变换，相当于在A的**左边**乘一个m阶初等矩阵。对A进行一次初等列变换，相当于在A**右边**乘一个n阶初等矩阵

**推论：**
$$
\begin{aligned}
E(i,j)E(i,j) &= E
\\
E(i(k))E(i(\frac{1}{k})) &= E
\\
E(i,j(k))E(i,j(-k)) &= E
\end{aligned}
$$
所以可以得到逆矩阵
$$
\begin{aligned}
E(i,j)^{-1} &= E(i,j)
\\
E(i(k))^{-1} &= E(i(\frac{1}{k}))
\\
E(i,j(k))^{-1}&= E(i,j(-k))
\end{aligned}
$$

##### 定理2

对于任意`m*n`矩阵，必存在行最简形矩阵U和m阶初等矩阵Pi，使得
$$
P_1 P_2 ... P_t A = U
$$

##### 定理3

对于任意`m*n`矩阵A，必存在m阶可逆矩阵P和n阶可逆矩阵Q，使
$$
PAQ = N
$$
其中$N = \begin{bmatrix} E_r & O \\ O & O \end{bmatrix}$

##### n阶方阵可逆充要条件

n阶方阵可逆的充要条件是它能表示为E和一系列初等矩阵的乘积

**推论**：`m*n`矩阵A和B等价的充要条件是存在m阶可逆矩阵P和n阶可逆矩阵Q，使
$$
PAQ = B
$$

##### 初等变换法求逆

由上述定理，若A是n阶矩阵，则必存在P，使得
$$
P_1 P_2 ... P_m A = E
$$
则$A^{-1} = P_1 P_2...P_m$，因此有
$$
P_1 P_2 ... P_m (A | E) = A^{-1} (A|E) = (E | A^{-1})
$$
即可以通过$P_1, P_2, ... , P_m$行变换实现求逆

##### 初等变换法求方程

对于下述方程

$AX = C \ \  XB = C \ \ AXB = C$

可知其解
$$
\begin{aligned}
X &= A^{-1}C
\\
X &= C B^{-1}
\\
X &= A^{-1} C B^{-1}
\end{aligned}
$$
如要求解第一个式子，可以使用类似求逆的方式
$$
A^{-1}(A | C) = (E|A^{-1}C)
$$

## 行列式

### 概念来源

求解二元一次方程组时
$$
a_{11} x_1 + a_{12} x_2 = b_1
\\
a_{21} x_1 + a_{22} x_2 = b_2
$$
解得
$$
x_1 = \frac{a_{22} b_1 - a_{12} b_2}{a_{11} a_{22} - a_{12} a_{21}}
\\
x_2 = \frac{a_{11} b_2 - a_{21} b_1}{a_{11} a_{22} - a_{12} a_{21}}
$$
引入记号
$$
\begin{bmatrix}
a_{11} & a_{12} \\
a_{21} & a_{22}
\end{bmatrix}
=
a_{11} a_{22} - a_{12} a_{21}
$$
所以上面可以表示为
$$
\begin{aligned}
x_1 &= \frac{\begin{bmatrix}
b_1 & a_{12} \\
b_2 & a_{22}
\end{bmatrix}}
{\begin{bmatrix}
a_{11} & a_{12} \\
a_{21} & a_{22}
\end{bmatrix}}
&x_2 = \frac{\begin{bmatrix}
a_{11} & b_1 \\
a_{21} & b_2
\end{bmatrix}}
{\begin{bmatrix}
a_{11} & a_{12} \\
a_{21} & a_{22}
\end{bmatrix}}
\end{aligned}
$$

	### n阶行列式的概念

#### 排列与逆序

对于一个排列$j_1j_2...j_n$（注意排列有顺序，组合无顺序），若一个较大的数在较小的数前，称这两个数构成一个逆序。排列中所有的逆序总个数称为该排列的逆序数，记为$\tau(j_1j_2...j_n)$

```
如154362，逆序个数为（每次选取一个数字a，只比较a与该数字之前的数构成几个逆序）
逆序总数为
0  1与前面的数无法构成逆序
0  5与1无法构成逆序
1  4与5构成一个逆序，与1无法构成
2  3与4 3与5构成逆序
0  6与3 4 5 1都无法构成逆序
4  2与6 3 4 5构成逆序

逆序数为 0+0+1+2+0+4=7
```

逆序数为奇数称为奇排列，反之为偶排列

**对换排列中的两数会改变排列的奇偶性**

#### 行列式定义

由n阶矩阵
$$
A = \begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
a_{21} & a_{22} & ... & a_{2n} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{bmatrix}
$$
的元组成的记号
$$
\begin{vmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
a_{21} & a_{22} & ... & a_{2n} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{vmatrix}
$$
称为n阶行列式，记为det(A)或|A|

#### 计算

$$
\begin{vmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
a_{21} & a_{22} & ... & a_{2n} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{vmatrix}
=
\sum_{j_1j_2...j_n}(-1)^{\tau(j_1j_2...j_n)} a_{1j_1} a_{2j_2}...a_{nj_n}
$$

上述求和针对`j1j2...jn`的所有排列

其中一个一般项$a_{ij}$可以表示为
$$
a_{ij} = (-1)^{\tau(i_1i_2...i_n) + \tau(j_1j_2...j_n)} a_{i_1j_1}a_{i_2j_2}...a_{i_nj_n}
$$

#### 性质

##### 性质1

* 方阵A的行列式与$A^T$相同

很容易证明，因为矩阵A与矩阵A的转置区别只是调换了i和j的顺序，根据一般项公式，不改变值

##### 性质2

* 互换行列式的两行，行列式变号

也容易证明，因为一次对换改变排列的奇偶性

* **推论**  如果行列式有两行（列）完全相同，则行列式值为0

因为这说明D=-D

##### 性质3

* 行列式某行（列）的公因子可以提到行列式外，即

$$
\begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
... \\
ka_{i1} & ka_{i2} & ... & ka_{in} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{bmatrix}
=
k \begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
... \\
a_{i1} & a_{i2} & ... & a_{in} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{bmatrix}
$$

也容易证明，因为某行（列）的公因子在每个一般项中必出现一次

* **推论**  设A为n阶矩阵，则$|kA| = k^n |A|$
* **推论**  若行列式的两行（列）成比例，则行列式为0

##### 性质4

$$
\begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
... \\
a_{i1}+b_{i1} & a_{i2}+b_{i2} & ... & a_{in}+b_{in} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{bmatrix}
=
\begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
... \\
a_{i1} & a_{i2} & ... & a_{in} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{bmatrix}
+
\begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
... \\
b_{i1} & b_{i2} & ... & b_{in} \\
... \\
a_{n1} & a_{n2} & ... & a_{nn} \\
\end{bmatrix}
$$

##### 性质5



## 一些问题的解释

### 矩阵

#### 矩阵乘法由来

由研究线性变换和线性方程组而来
$$
\left \{
\begin{aligned}
x_1 &= a_{11} y_1 + a_{12} y_2 \\
x_2 &= a_{21} y_1 + a_{22} y_2 \\
x_3 &= a_{31} y_1 + a_{32} y_2
\end{aligned}
\right .
\\
~
\\
\left \{
\begin{aligned}
y_1 &= b_{11} z_1 + b_{12} z_2 \\
y_2 &= b_{21} z_1 + b_{22} z_2
\end{aligned}
\right .
$$
代入整理得
$$
\left \{
\begin{aligned}
x_1 &= (a_{11}b_{11} + a_{12}b_{21}) z_1 + (a_{11}b_{12} + a_{12}b_{22}) z_2 \\
x_2 &= (a_{21}b_{11} + a_{22}b_{21}) z_1 + (a_{21}b_{12} + a_{22}b_{22}) z_2 \\
x_3 &= (a_{31}b_{11} + a_{32}b_{21}) z_1 + (a_{31}b_{12} + a_{32}b_{22}) z_2
\end{aligned}
\right .
$$
因此归纳总结可以得运算规则

#### 矩阵乘法运算律证明

##### 交换律

$$
\begin{aligned}
(\boldsymbol A \boldsymbol B)\boldsymbol C = \boldsymbol A (\boldsymbol B \boldsymbol C)
\end{aligned}
$$

设AB的元素为m，BC的元素为n，（AB)C的元素为l，A为`m*s`，B为`s*t`，C为`t*n`
$$
\begin{aligned}
m_{ij} &= \sum_{k=1}^s a_{ik} b_{kj}
\\
n_{ij} &= \sum_{k=1}^t b_{ik} c_{kj}
\\
l_{ij} &= \sum_{r=1}^t m_{ir} c_{rj} = \sum_{r=1}^t( \sum_{k=1}^s a_{ik} b_{kr}) c_{rj}
\\ &= \sum_{r=1}^t (a_{i1}b_{1r} + a_{i2}b_{2r} + ... + a_{is}b_{sr}) c_{rj}
\\ &= (a_{i1}b_{11} + a_{i2}b_{21} + ... + a_{is}b_{s1})c_{1j} + (a_{i1}b_{12} + a_{i2}b_{22} + ... + a_{is}b_{s2}) c_{2j} + ... + (a_{i1}b_{1t} + a_{i2}b_{2t} + ... + a_{is}b_{st}) c_{tj}
\\ &= (a_{i1}b_{11}c_{1j} + a_{i1}b_{12}c_{2j} + ... + a_{i1}b_{1t}c_{tj}) + (a_{i2}b_{21}c_{1j} + a_{i2}b_{22}c_{2j} + ... + a_{i2}b_{2t}c_{tj}) + ... + (a_{is}b_{s1}c_{1j} + a_{is}b_{s2}c_{2j} + ... + a_{is}b_{st}c_{tj})
\\ &= a_{i1}(b_{11}c_{1j} + b_{12}c_{2j} + ... + b_{1t}c_{tj}) + a_{i2}(b_{21}c_{1j} + b_{22}c_{2j} + ... + b_{2t}c_{tj}) + ... + a_{is}(b_{s1}c_{1j} + b_{s2}c_{2j} + ... + b_{st}c_{tj})
\\ &= a_{i1} \sum_{k=1}^t b_{1k}c_{kj} + a_{i2} \sum_{k=1}^t b_{2k}c_{kj} + ... + a_{is} \sum_{k=1}^t b_{sk}c_{kj}
\\ &= \sum_{r=1}^s a_{ir} n_{rj}
\end{aligned}
$$
所以得证

##### 加法分配率

$$
\boldsymbol A(\boldsymbol B + \boldsymbol C) = \boldsymbol A \boldsymbol B + \boldsymbol A \boldsymbol C
$$

设AB的元素为m，AC的元素为n，B+C的元素为l，A为`m*s`，B为`s*n`，C为`s*n`
$$
\begin{aligned}
l_{ij} &= b_{ij} + c_{ij}
\\
m_{ij} &= \sum_{k=1}^s a_{ik} b_{kj}
\\
n_{ij} &= \sum_{k=1}^s a_{ik} c_{kj}
\\
\end{aligned}
$$
对于$\boldsymbol A \boldsymbol B + \boldsymbol A \boldsymbol C$的元素o，有
$$
\begin{aligned}
o_{ij} &= m_{ij} + n_{ij}
\\ &= \sum_{k=1}^s a_{ik} b_{kj} + \sum_{k=1}^s b_{ik} c_{kj}
\\ &= \sum_{k=1}^s (a_{ik} b_{kj} + a_{ik} c_{kj})
\\ &= \sum_{k=1}^s a_{ik} (b_{kj} + c_{kj})
\\ &= \sum_{k=1}^s a_{ik} l_{kj}
\end{aligned}
$$
所以得证

##### 幂

###### 1

$$
\boldsymbol A^k \boldsymbol A^l = \boldsymbol A^{k+l}
$$

直接数学归纳法（应该可以吧）

因为由定义，$A^{k+1} = A^k  A$，所以$A^{k+2} = A^{k+1}A = A^{k}AA = A^{k}A^2$，这可以由矩阵乘法结合律得到，所以得证

###### 2

$$
(\boldsymbol A^k)^l = \boldsymbol A^{kl}
$$

因为$(\boldsymbol A^k)^l = \boldsymbol A^k \boldsymbol A^k ... = \boldsymbol A^{k+k+...+k} = \boldsymbol A^{kl}$

#### 矩阵转置证明

设A为`m*s`，B为`s*n`
$$
(\boldsymbol A \boldsymbol B)^T = \boldsymbol B^T \boldsymbol A^T
$$
设AB元素为p，则
$$
p_{ij} = \sum_{k=1}^s a_{ik} b_{kj}
$$
AB的转置为
$$
p'_{ij} = \sum_{k=1}^s a_{jk} b_{ki}
$$
设$B^TA^T$的元素为q
$$
\begin{aligned}
q_{ij} &= \sum_{k=1}^s b'_{ik} a'_{kj}
\\ &= \sum_{k=1}^s b_{jk} a_{ki}
\\ &= p'_{ij}
\end{aligned}
$$
所以得证

#### 可逆矩阵

##### 唯一性

假设A有B和C两个逆矩阵
$$
\boldsymbol B = \boldsymbol E \boldsymbol B = (\boldsymbol C \boldsymbol A)\boldsymbol B = \boldsymbol C (\boldsymbol{AB}) = \boldsymbol{CE} = \boldsymbol C
$$
 所以唯一

##### 二阶方阵求逆

$$
\begin{aligned}
\begin{bmatrix}
a & b \\
c & d
\end{bmatrix}
X &=
\begin{bmatrix}
1 & 0 \\
0 & 1
\end{bmatrix}
\end{aligned}
$$

则可以解方程
$$
\left \{
\begin{aligned}
a x_{11} + bx_{21} &= 1 \\
a x_{12} + bx_{22} &= 0 \\
c x_{11} + dx_{21} &= 0 \\
c x_{12} + dx_{22} &= 1
\end{aligned}
\right .
$$

##### AB的逆

若A B可逆，则
$$
(AB)^{-1} = B^{-1} A^{-1}
$$
证明如下
$$
(AB) (B^{-1} A^{-1}) = A (B B^{-1}) A^{-1} = A A^{-1} = E
$$

#### 行阶梯型矩阵

任意矩阵必可化为行阶梯型矩阵，设矩阵A
$$
A = \begin{bmatrix}
a_{11} & a_{12} & ... & a_{1n} \\
a_{21} & a_{22} & ... & a_{2n} \\
... \\
a_{m1} & a_{m2} & ... & a_{mn} 
\end{bmatrix}
$$
对第i行进行如下初等变换，可以使第j列的元素变为0
$$
\boldsymbol r'_i = \boldsymbol r_i - \frac{a_{ij}}{a_{1j}} \boldsymbol r_1
$$
重复该过程，可以化为行阶梯矩阵

化为行阶梯型矩阵后
$$
B =
\begin{bmatrix}
b_{11} & b_{12} & ... & b_{1n} \\
0 & b_{22} & ... & b_{2n} \\
... \\
0 & 0 & ... & b_{mn} 
\end{bmatrix}
$$
可以简单地将所有行同除最左元素化为行最简式

化为行最简式后
$$
C =
\begin{bmatrix}
1 & c_{12} & ... & c_{1n} \\
0 & 1 & ... & c_{2n} \\
... \\
0 & 0 & ... & c_{mn}
\end{bmatrix}
$$
对第j列进行如下变换，可以化为标准型
$$
\boldsymbol c'_{i} = \boldsymbol c_{i} - c_{ij} * \boldsymbol c_j
$$
注意，这里cj的第j个元素为1

**这部分算法实现可见code/Row_ladder_matrix.py**

要将`m*n`矩阵化为等价标准型（m不等于n），若m<n，还需要对矩阵进行列变换；若m>n，需要增加行变换步骤。这里的程序暂时还没写这个功能

### 行列式

#### 排列奇偶性

1) 假设对换的数i j相邻，则相当于
$$
a_1 a_2 ... a_s ij b_1b_2...b_m
$$
转换为
$$
a_1 a_2 ... a_s ji b_1b_2...b_m
$$
因此若i>j，则$\tau_2 = \tau_1 -1$，若i<j，则$\tau_2 = \tau_1 + 1$

2) 假设对换的数不相邻，则相当于
$$
a_1 a_2 ... a_s i b_1b_2...b_m j c_1c_2...c_p
$$
转换为
$$
a_1 a_2 ... a_s j b_1b_2...b_m i c_1c_2...c_p
$$
首先，对换对于a和c无影响，对于a对换前后i和j都不在任何a之前，对于c对换前后i和j都在c之前

其次，对于$b_x < min(i,j)$和$b_x > max(i,j)$，对换不影响它们的逆序数

因此可以假设**i<j**，且有x个b，有i<b<j，则
$$
\tau_2 = \tau_1 + x + (x+1) = \tau_1 + 2x + 1
$$
其中x是x个b中每个的逆序数都+1，(x+1)为对换后i的逆序数

再假设**j<b<i**，有y个b，则显然与上式相反
$$
\tau_2 = \tau_1 - 2y -1
$$
因此奇偶性相反

#### 一般项

$$
a_{ij} = (-1)^{\tau(i_1i_2...i_n) + \tau(j_1j_2...j_n)} a_{i_1j_1}a_{i_2j_2}...a_{i_nj_n}
$$

调换因子的顺序，假设一共需要调换s次，得
$$
a_{ij} = (-1)^{\tau(i_1i_2...i_n) + \tau(j_1j_2...j_n)} a_{1l_1}a_{2l_2}...a_{nl_n}
$$
上述操作不改变任何值。但若要将对应的$\tau$函数转换为对应下标，则$\tau(i_1i_2...i_n)$和$\tau(j_1j_2...j_n)$分别需要调换s次，因此一共需要调换2s次，即
$$
a_{ij} = (-1)^{\tau(12...n) + \tau(l_1l_2...l_n)} a_{1l_1}a_{2l_2}...a_{nl_n}
$$
可化简为
$$
a_{ij} = (-1)^{\tau(l_1l_2...l_n)} a_{1l_1}a_{2l_2}...a_{nl_n}
$$
与行列式求和的一般项形式相同，即两者等价。显然原式是更一般的形式

