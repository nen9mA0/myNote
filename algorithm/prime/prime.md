### 筛法1

对应sieve_1，朴素筛法，第一遍筛

```
2*2 2*3 2*4 ... 2*(n/2)
```

第二遍筛

```
3*3 3*4 3*5 ... 3*(n/3)
```



### 筛法2

与筛法1类似，只不过少了一层循环。但这种方法有个明显缺点，因为对于筛法1当`i*i<n`时就跳出循环，因此没有溢出风险。但对于筛法2很容易就溢出（考虑对于32位int，N为100000，`i*i = 10^10`，将导致溢出）



### 筛法3 线性筛法

对于上述的筛法存在一个问题，`3*6`与`2*9`重复计算了，对于这种筛法有很多类似重复运算

由于所有数都可以表示为
$$
num = p_0^{a_0} p_1^{a_1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
因此可以考虑如下算法：

遍历i<N，假设
$$
i = p_0^{a_0} p_1^{a_1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
则筛去
$$
p_0^{a_0+1} p_1^{a_1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
p_0^{a_0} p_1^{a_1+1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
p_0^{a_0} p_1^{a_1} p_2^{a_2+1}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
p_0^{a_0} p_1^{a_1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}+1} p_{n-1}^{a_{n-1}}
\\
p_0^{a_0} p_1^{a_1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}+1}
$$
但这种筛法还存在一定的重复性，考虑如下情况
$$
i_1 = p_0^{a_0-1} p_1^{a_1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
i_2 = p_0^{a_0} p_1^{a_1-1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
则显然i1和i2都会遍历到
$$
p_0^{a_0} p_1^{a_1} p_2^{a_2}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
因此采用这样一种策略来筛，即假设a0 a1 ... a(m-1)都为0，即i的最小质因数为pm，即
$$
i = p_m^{a_m} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
当然 a(m+1) 到 a(n-1) 中任一参数都可能为0

则筛去
$$
p_0 \  p_m^{a_m} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
p_1 \  p_m^{a_m} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
p_2 \  p_m^{a_m} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
...
\\
p_{m-1} \  p_m^{a_m} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
\\
p_m^{a_m+1} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
因为对于
$$
i = p_m^{a_m} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
可以由
$$
j = p_m^{a_m-1} p_{m+1}^{a_{m+1}} p_{m+2}^{a_{m+2}}  ...  p_{n-2}^{a_{n-2}} p_{n-1}^{a_{n-1}}
$$
遍历到，因此可以推广为，对于所有的i，存在j<i使得i可以被遍历

